/**
 * New node file
 */
var apis = require('./apis.js')();

var gen_menu_args = function () {
	var args = {location_id:arguments[0]};
	if(arguments[1]==apis.categories) {
		args.categories = true;
		args.category_id = arguments[2];
	} else if(arguments[1]==apis.items) {
		args.items = true;
		args.menu_item_id = arguments[2];
		args.modifier_groups = true;
		args.modifier_group_id = arguments[3];
	} else if(arguments[1]==apis.modifiers) {
		args.modfiers = true;
		args.modifier_id = arguments[2];
	}
	return args;
}

//...
//...menu
//...
function get_location_menu_url(p_location_id) {
	var the_url = apis.get_base_url()+apis.urls.menu
	the_url = the_url.replace(apis.location_id,p_location_id);
	return the_url;
}

//...
//...menu
//...
function get_location_menu_id_url(p_args) {
	if(p_args.location_id==undefined) {
		throw new Error('missing location_id');
	}
	if(p_args.menu_id==undefined) {
		throw new Error('missing menu_id');
	}
	var the_url = apis.get_base_url()+apis.urls.menu_id;
	the_url = the_url.replace(apis.location_id,p_args.location_id);
	the_url = the_url.replace(apis.menu_id,p_args.menu_id);
	return the_url;
}



var get_location_menu_url = function(p_args) {
	return get_location_menu_id_url(p_args);
	
}

module.exports = function() {

	return {
		get_location_menu_url: get_location_menu_url,
		gen_menu_args: gen_menu_args,
		get_location_menu_url: get_location_menu_url,
		
	};
}